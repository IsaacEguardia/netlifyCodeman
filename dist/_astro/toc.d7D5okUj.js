import{j as i,r as o}from"./jsx-runtime.YG6Og3Vl.js";import{c as a}from"./utils.aQmm6d3C.js";function d({toc:t}){const s=t.items?t.items.flatMap(e=>[e.url,e?.items?.map(n=>n.url)]).flat().filter(Boolean).map(e=>e?.split("#")[1]):[],l=u(s);return t?.items?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-medium",children:"On This Page"}),i.jsx(c,{tree:t,activeItem:l})]}):null}function u(t){const[s,l]=o.useState("");return o.useEffect(()=>{const e=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting&&l(r.target.id)})},{rootMargin:"0% 0% -80% 0%"});return t?.forEach(n=>{if(!n)return;const r=document.getElementById(n);r&&e.observe(r)}),()=>{t?.forEach(n=>{if(!n)return;const r=document.getElementById(n);r&&e.unobserve(r)})}},[t]),s}function c({tree:t,level:s=1,activeItem:l}){return t?.items?.length&&s<3?i.jsx("ul",{className:a("m-0 list-none",{"pl-4":s!==1}),children:t.items.map((e,n)=>i.jsxs("li",{className:a("mt-0 pt-2"),children:[i.jsx("a",{href:e.url,className:a("inline-block no-underline",e.url===`#${l}`?"font-medium text-primary":"text-sm text-muted-foreground"),children:e.title}),e.items?.length?i.jsx(c,{tree:e,level:s+1,activeItem:l}):null]},n))}):null}export{d as DashboardTableOfContents};
